API_client
==========
Для нормальної роботи клієнта на клієнті необхідно поставити конкретну версію httpsig:

pip install httpsig==1.0.2

РОБОЧИЙ КАТАЛОГ ПРОЕКТУ: /opt/datawiz

ФАЙЛИ ПРОЕКТУ: <br><br>
<b>load.py</b> - основний скрипт завантаження даних з бази даних Колос в bi.datawiz.io/api/v1/<br>
<b>utils.py</b> - додаткові підпрограмки<br>
<b>settings.py</b> - конфігурації по базі даних і ел.пошті. (api все ще в load.py, потрібно буде сюди ж перенести). Права на цей файл - 600<br>
<b>load-datawiz</b> - скрипт, який знаходиться в /etc/cron.hourly/ і один раз на годину запускає utils.py<br>
<b>iteration_numer.txt</b> - тут зберігається номер "Ітерації", тобто циклу вивантаження даних на сервер. За кожною ітерацією створюється каталог з її номером, в якій зберігаються csv файли, які передались/не передались на сервер.<br>
<b>datapump.csv</b> - changenum для різних довідників. По цим числам визначається дельта при завантаженні довідників (якщо щось пішло не так, цей файл можна взяти з попередніх ітерацій (папки ітерацій) і завантажити дані за попередні періоди)<br>
<b>sales-lastdate.csv</b> - це аналог datapump.csv але для чеків. Чеки вивантажуються ПОМАГАЗИННО, в цьому файлі зберігаються останні дати, по які дані вже вивантажено (якщо щось пішло не так, цей файл можна взяти з попередніх ітерацій (папки ітерацій) і буде ще раз завантажено чеки за попередні періоди)<br>
<b>last_retcode.txt</b> - тут зберігається останній код повернення програми load.py. Необхідний, щоб надсилати SUCCESSFULL message після листів з помилками, щоб вже по листам було видно, що проблема сама усунулась (якщо таке сталось)<br>
